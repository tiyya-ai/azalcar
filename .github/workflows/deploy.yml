name: Deploy to Production

on:
  push:
    branches: [ main ]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
        with:
          fetch-depth: 0

      - name: ğŸš€ Sync Changed Files to FTP
        uses: SamKirkland/FTP-Deploy-Action@v4.3.5
        with:
          server: 193.203.162.199
          username: admin_azal
          password: ${{ secrets.FTP_PASSWORD }}
          local-dir: ./
          server-dir: /laravel_app/
          # Ø§Ø³ØªØ«Ù†Ø§Ø¡ Ø§Ù„Ù…Ù„ÙØ§Øª ÙˆØ§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª ØºÙŠØ± Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠØ© Ø¨Ø´ÙƒÙ„ ØµØ§Ø±Ù…
          exclude: |
            **/.git*
            **/.git*/**
            **/.github*
            **/.github*/**
            node_modules/**
            vendor/**
            tests/**
            storage/logs/**
            *.sqlite
            .env
            manual_deploy.php
            deploy_to_ftp.php
            test_ftp.php
            cleanup_ftp.php
            clean_public_html.php
            check_ftp_files.php
            move_files_ftp.php
            organize_ftp.php
